<div class="leave-container">
  <h2>Leave Requests</h2>

  <!-- Search Box -->
  <div class="search-pagination">
    <input type="text" [(ngModel)]="searchText" (keyup)="applyFilters()"
      placeholder="Search by name, status, reason..." />
  </div>

  <div>
    <!-- Status Filter -->
    <select [(ngModel)]="statusFilter" (change)="applyFilters()">
      <option value="">All Status</option>
      <option value="Approved">Approved</option>
      <option value="Pending">Pending</option>
      <option value="Rejected">Rejected</option>
    </select>
  </div>

  <div class="table-wrapper">
    <table class="leave-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Employee Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Reason</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let leave of pagedLeaves">
          <td>{{ leave.id }}</td>
          <td>{{ leave.employee?.fullName || 'â€”' }}</td>
          <td>{{ leave.startDate }}</td>
          <td>{{ leave.endDate }}</td>
          <td>{{ leave.reason }}</td>
          <td>
            <span class="status" [ngClass]="leave.status.toLowerCase()">
              {{ leave.status }}
            </span>
          </td>
          <td class="actions">
            <button class="btn small approve" (click)="approveLeave(leave.id)">Approve</button>
            <button class="btn small reject" (click)="rejectLeave(leave.id)">Reject</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Material Paginator -->
    <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]" (page)="onPageChange($event)"
      showFirstLastButtons>
    </mat-paginator>

  </div>
</div>